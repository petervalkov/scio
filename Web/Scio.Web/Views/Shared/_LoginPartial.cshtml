@using Scio.Common
@using Scio.Data.Models
@using System.Security.Claims
@using Microsoft.AspNetCore.Identity
@inject SignInManager<ApplicationUser> SignInManager
@inject UserManager<ApplicationUser> UserManager

@if (this.SignInManager.IsSignedIn(this.User))
 {
    <ul class="navbar-nav ml-auto">
        <li class="nav-item d-sm-inline-block user-block">
            <a class="nav-link" asp-area="" asp-controller="profile" asp-action="details">@(this.User.Identity.Name)</a>
        </li>
        <li class="nav-item user-block dropdown">
            <img class="img-circle img-bordered-sm" src="~/img/default-user.png" alt="user image" data-toggle="dropdown" aria-expanded="false">
            <div class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
                <form class="dropdown-item" asp-area="Identity" asp-page="/Account/Logout" asp-route-returnUrl="@(this.Url.Action("Index", "Home", new { area = string.Empty }))">
                    <button type="submit">Logout</button>
                </form>
            </div>
        </li>
    </ul> 
 }
 else
 {
    <ul class="navbar-nav ml-auto">
        <li class="nav-item d-none d-sm-inline-block">
            <a class="nav-link" asp-area="Identity" asp-page="/Account/Register">Register</a>
        </li>
        <li class="nav-item d-none d-sm-inline-block">
            <a class="nav-link" asp-area="Identity" asp-page="/Account/Login">Login</a>
        </li>
    </ul>
 }
